@model List<PeoplesSource.Models.ReturnItemModel>
    @{
        ViewBag.Title = "Return Details";
    }


 <div class="row" style="margin-top: 10px;">
                    <div class="col-lg-12" style="margin-bottom:25px;">
                        <div class="ibox float-e-margins">
                            <div class="ibox-title">
                                <h5>Return Details for @ViewBag.SellName</h5>
                            </div>
                            <div class="ibox-content" style="margin-bottom: 20px;">
                                    <div class="row">
                                    <div>
                                    @Html.Partial("SellerList")
                                    </div>
                            </div>
                            </div>
                        </div>
                    </div>
                </div>


    @*<table id="jQGridGroup"></table>
        <div id="jQGridGroupPager"></div>

        <style>
            input.ui-pg-input {
                width: auto;
            }

            .ui-jqgrid tr.ui-row-ltr td {
                border-bottom-style: none;
                border-right: 1px solid #eee;
            }

            /*.ui-jqgrid-hdiv {
                           display: none !important;
                       }*/

            /*table.ui-jqgrid-btable tr:nth-child(odd) td {
                           background-color: #F7F7F7;
                       }*/

            .ui-jqgrid-view {
                font-size: 11.5px !important;
            }

            div#gbox_jQGridGroup {
                border: none !important;
            }

            .ui-jqgrid tr.jqgrow td {
                word-wrap: break-word;
                white-space: pre-wrap;
                white-space: -moz-pre-wrap;
                padding: 0;
            }

            .clsquantityunit {
                padding-left: 5px !important;
            }

            .paddingright {
                padding-right: 10px !important;
            }
        </style>

        <link href="~/Content/css/ui.jqgrid.css" rel="stylesheet" />
        <script src="~/Content/js/grid.locale-en.js"></script>
        <script src="~/Content/js/jquery.jqGrid.min.js"></script>
        <script type="text/javascript">

            $(function () {

                $("#jQGridGroup").jqGrid({

                    url: '@Url.Action("SellerList", "Seller")',
                    datatype: "json",
                    colNames: ['Return Id', 'Return Type', 'Status', 'Creation Date'],

                    colModel: [
                        {
                            name: 'ReturnId', index: 'ReturnId', width: 50, stype: 'text', align: "right", classes: 'paddingright', sortable: true, editable: false, searchoptions: { sopt: ['cn', 'eq', 'ne', 'bw'] }
                        },
                        {
                            name: 'ReturnType', index: 'ReturnType', width: 50, align: "right", classes: 'paddingright', stype: 'text', sortable: true, editable: false, searchoptions: { sopt: ['cn', 'eq', 'ne', 'bw'] }
                        },
                        {
                            name: 'Status', index: 'Status', width: 50, align: "right", classes: 'paddingright', stype: 'text', sortable: true, editable: false, searchoptions: { sopt: ['cn', 'eq', 'ne', 'bw'] }
                        },
                        {
                            name: 'CreationDate', index: 'CreationDate', width: 50, align: "right", classes: 'paddingright', stype: 'text', sortable: true, editable: false, searchoptions: { sopt: ['cn', 'eq', 'ne', 'bw'] }
                        }

                    ],
                    rowNum: -1,
                    mtype: 'GET',
                    pager: '#jQGridGroupPager',
                    ignoreCase: true,
                    loadonce: true,
                    scroll: true,
                    viewrecords: true,
                    multiselect: false,
                    editurl: '',
                    height: 430,
                    width: 1100,
                    loadComplete: function () {
                        InitUI();
                    }
                });

                $("#load_jQGridGroup").hide();
                $("#jQGridGroup").jqGrid('filterToolbar', { searchOperators: true });
                $("#jQGridGroup").jqGrid('navGrid', '#jQGridGroupPager', { add: false, del: false, edit: false, position: 'left' }, {}, // default settings for edit
                    {},
                    {},
                    {
                        closeOnEscape: true, multipleSearch: true,
                        closeAfterSearch: true
                    },
                    {});
            });
            function GetreturnData(id) {
                BootstrapDialog.show({
                    title: 'Return Details',
                    closeByBackdrop: false,
                    closeByKeyboard: false,
                    draggable: true,
                    message: $('<div></div>').load('@Url.Action("GetReturnDetails", "Ebay")' + "?retId=" + id)
                });
            }

            function SendMessage(itemId, recId) {
                BootstrapDialog.show({
                    title: 'Send Message',
                    closeByBackdrop: false,
                    closeByKeyboard: false,
                    draggable: true,
                    message: $('<div></div>').load('@Url.Action("SendMessage", "Ebay")'),
                    buttons: [
                    {
                        label: 'Next',
                        cssClass: 'btn-primary',
                        action: function (e) {
                            var id = $('input[name=rdGroup]:checked').val();
                            if (id == 5) {
                                BootstrapDialog.show({
                                    title: 'Message Details',
                                    closeByBackdrop: false,
                                    closeByKeyboard: false,
                                    draggable: true,
                                    message: $('<div></div>').load('@Url.Action("SendBuyerMessage", "Ebay")' + "?itemId=" + itemId + "&recId=" + recId),
                                    buttons: [
                                        {
                                            label: 'Next',
                                            cssClass: 'btn-primary',
                                            action: function (e) {
                                                var formData = new FormData($('#SendMail')[0]);
                                                $.ajax({
                                                    url: '@Url.Action("Send", "Ebay")',
                                                    type: 'POST',
                                                    data: formData,
                                                    async: false,
                                                    success: function (data) {
                                                        if (data.success == true) {
                                                            BootstrapDialog.closeAll();
                                                            // e.close();
                                                        } else {
                                                            $("#templateValidaSummary").html(data.errors).css("color", "red");
                                                        }
                                                    },
                                                    cache: false,
                                                    contentType: false,
                                                    processData: false
                                                });
                                            }
                                        }
                                    ]
                                });
                            } else {
                                alert("Not Implemented Yet");
                            }
                        }
                    }]
                });
            }
        </script>*@

    @*<div class="row">
            <div class="col-lg-12">
                <h3>Return List</h3>
            </div>
        </div>*@
    @*<div class="row">
            <div class="col-lg-12">
                <div class="panel panel-default">

                    <div class="panel-body">
                        <div>
                            <table class="table table-striped table-bordered table-hover footable" data-filter="#filter">
                                <thead>
                                    <tr>
                                        <th>ReturnId</th>
                                        <th>ReturnType</th>
                                        <th>Status</th>
                                        <th>Creation Date</th>
                                        <th style="width: 120px !important">Actions</th>
                                       
                                    </tr>
                                </thead>
                                <tbody>
                                    @if (Model.ReturnItems.Any())
                                    {
                                        foreach (var item in Model.ReturnItems)
                                        {
                                            <tr>
                                                <td>
                                                    @item.ReturnId
                                                </td>
                                                <td>
                                                    @item.ReturnType
                                                </td>
                                                <td>
                                                    @item.Status
                                                </td>
                                                <td>
                                                    @item.CreationDate
                                                </td>
                                                <td>

                                                    <a style="cursor: pointer" onclick="GetreturnData(@item.ReturnId);" title="Get Return Detail" id="GetReturnDetail" ><i class="fa fa-eye" title="Get Return Detail"></i></a>
                                                    <a style="cursor: pointer" title="Issue Refund" id="IssueRefund"><i class="fa fa-eye" title="Issue Refund"></i></a>
                                                    <a style="cursor: pointer" title="Provide Seller Info" id="ProvideSellerInfo"><i class="fa fa-eye" title="Provide Seller Info"></i></a>
                                                    <a style="cursor: pointer" title="Provide Tracking Info" id="ProvideTrackingInfo"><i class="fa fa-eye" title="Provide Tracking Info"></i></a>
                                                    <a style="cursor: pointer" title="Set Item As Received" id="SetItemAsReceived"><i class="fa fa-eye" title="Set Item As Received"></i></a>
                                                    <a style="cursor: pointer" title="Send Message" id="SendMessage" onclick="SendMessage('@Model.ItemId', '@Model.RecepientId');"><i class="fa fa-eye" title="Send Message"></i></a>
                                                </td>
                                            </tr>
                                            <tr style="display: none;">
                                                <td colspan="6">
                                                    @if (!string.IsNullOrEmpty(item.ReturnRequestComment) || !string.IsNullOrEmpty(item.ReturnRequestReasonCode)
                                                         || !string.IsNullOrEmpty(item.ReturnRequestReasonContent) || !string.IsNullOrEmpty(item.ReturnRequestReasonDescription))
                                                    {
                                                        <ul>
                                                            @if (!string.IsNullOrEmpty(item.ReturnRequestReasonCode))
                                                            {
                                                                <li>ReasonCode: @item.ReturnRequestReasonCode</li>
                                                            }
                                                            @if (!string.IsNullOrEmpty(item.ReturnRequestReasonContent))
                                                            {
                                                                <li>Request Reason Content: @item.ReturnRequestReasonContent</li>
                                                            }
                                                            @if (!string.IsNullOrEmpty(item.ReturnRequestComment))
                                                            {
                                                                <li>Comment: @item.ReturnRequestComment</li>
                                                            }
                                                            @if (!string.IsNullOrEmpty(item.ReturnRequestReasonDescription))
                                                            {
                                                                <li>Request Reason Description: @item.ReturnRequestReasonDescription</li>
                                                            }
                                                        </ul>
                                                    }
                                                    @if (item.ReturnRequestItems.Any())
                                                    {
                                                        <table class="table table-striped table-bordered table-hover footable" data-filter="#filter">
                                                            <thead>
                                                                <tr>
                                                                    <th>ItemId</th>
                                                                    <th>Item Quantity</th>
                                                                    <th>TransactionId</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                @foreach (var ReturnRequestItem in item.ReturnRequestItems)
                                                                {
                                                                    <tr>
                                                                        <td>
                                                                            @ReturnRequestItem.ReturnRequestItemId
                                                                        </td>
                                                                        <td>
                                                                            @ReturnRequestItem.ReturnRequestItemQuantity
                                                                        </td>
                                                                        <td>
                                                                            @ReturnRequestItem.ReturnRequestTransactionId
                                                                        </td>
                                                                    </tr>
                                                                }
                                                            </tbody>
                                                        </table>
                                                    }
                                                </td>
                                            </tr>
                                        }
                                    }
                                    else
                                    {
                                        <tr>
                                            <td colspan="6">
                                                <label>No Record Found.</label>
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                    </div>

                </div>

            </div>

        </div>*@





